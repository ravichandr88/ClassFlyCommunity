# This example uses pyjwt:
# pip install pyjwt

import jwt
import base64
import time

playback_id = 'WksoyyvtuAASymMzUkKIXTNLwX4b9saMNW024M2YTadg' # enter your playback id here
signing_key_id = 'PNNTvhKRIpcsmAKYWNCoQMnTJhKD5u006FbvmMYmbPCI' # enter your signing key id here
private_key_base64 = 'LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBd1dQWWVGNjEzTlhLVkRON3JnOUNKYVZraFdsR2QyQ0lNNDlBWm1aeXQrK3VsUTE4CmJueGJJRXJQRnM5QVp2bysrcEkwK2djYmp3STdlMHpWMWhsRXdzbmExb2hMdzRnb0tJY0JacGM3ejBNQ2p0a20KNSt0ZFNKYmhIemttQXh0dFAyMXlZajBjL0F3eTFmdWd5SmxicTRsZjlnUFRWUnRuam1ISXcxVWZTMVRLMFV3VApyQlBaUTdQREpZZ1JrandxYlRnTTBmUytzMGxoRml1WWpwdGhlYitRTU50c0h1MXJMdEduQklSdU9GSVFPdEsyCmk3eFBTNWhUUEhkMXAxdzAzZitLWlg3ZlhScmJHaVltZ3UwRlFxTTZGUUtnOTRwVnpWK3BwbmdiL3hZYTVLRTIKaVdxaU1FWm9adEtUMGZ0SmZuNGwvZXQyTlJQcGp6UnJmSDU1eFFJREFRQUJBb0lCQUV2U2VNbmc0RTdnSjM3UgozSmtHOUhsTUdsaFFTVWQrdW9mMGoxeFdxSDNEWkdDZU0vNGhsWnpZbDg4cW5PYURFUFF2Sk1RdXl6aEx1TVNFCkFJYjd5MERQNFpRaFJnczRzLzRIeUozUGg2eWdhajFWbUhKdmpsaHFoNE0xWmRqc0JPNU1XLzkyVkluaHdvQ3gKTW4zVDJ1UXJiVXRJZnJBc21YSnlsa00zZVppUHpGa0Z1RVBIUUhab3hCSHF0NnUvNlprQnZQM0M2dThqNjZzMwpkbyttNTRwT0dsV1hxRW5icVJ3V0RuMkZ2d3BXS2hKYXNFd05rUzZza3NsY3BFZmljbGdJbUIvblhkeUlQbkZhCk1zSm5PZ3JRMmhUdWVaSFp3MkV4NDN3bFU4eFA0NGJLU0NQU0ZhYXo5RlFHVkg4dHNoK3V3bUQwTUpSTEIwZEsKcjhhdjNyVUNnWUVBN0JRQ20zc1NRY3Q2L3h1anNKNERUMENsM0N4blRBS0hPMzJ2ZEFudFVaZTUvRS84U0Y3bwpHU0RZY0xaNGFXR1N2cmFPQkQrQVVsRVl5cDQ3MkRKRVF6VnhGQXdoWVR6UjYzNWNpMzRWbjhVZTlWWm5HaHNQCkFNM0R1aXNqWjl6eFpuSExFYnJOQ1JnVUtzU0k5NmFtMmJiN2JSQTZXdHFpMy9oMmdGMllERThDZ1lFQTBiV2wKQ1cxdjBmblVHRFdmT0RES255cm5aTlA3TElLa0Z4NDFGcXNrZlpxSDJRdDJzc3RLR3dnRGtXUWMyYzdHWGtFVQpmN0s1c0hyZnpVT1Z3UTlkSC8zZTJqYW91ZERNZjMwWVVvTVFLVTJnSGNCZGpVRVlWa3RKSGJNczdvcE16RGF1CmdHZjVhWjl3TmVJR1FUaS9oQ2p3dENFUXhEdFV0NEtkN1Mzb2I2c0NnWUVBaVIxV0psZmswcklNVGY4UG81VWkKOXZUbFlHdXAwMHZrbjNqd1hzVWxRUzZPcHkwTnFqcjFNeU1Ra3Vab0tVeXlubklKS2c1M3lWZXd2bjRJNUJqTgo3UHN0SWllcGU0Q0hxKzlJY1B4YU11R2FpWVFWZmVRWllxNGY4QkQrRDJVVUVCd25oYlNwUVk3cXA2eGVvUGY2CkVKbG1qb0hPWXRaNW92djhWN0lFamFFQ2dZQlUrQjVvbFhqclFTaVlycEZXdVI1QUk2Z2lDR29LL052enFmK2sKc2E5VlhSbVI3YjBvY0lvVUxja1VUZFlLd21kSnBXRGk1TTJzSGYwME5DQW5XMHhHUEJ6aG1hZi9zZ1JKMjZ2UgpNdDJIZnJaVGw2L1FIZ0g0WlFTNURmSTByTUMxTmFxNnlHWWNUOGV0YldsUFgranBhWlV0eHYvK0luUU83dE9DCldFbUhoUUtCZ0FOQytOS2JzWWc1ZHFFTzJya3p2dDdnZlNkTm1UMUt6U0EvdWViMDFJWmUzVGo0T3hzeXlvTUgKNkg3OFVvT0ZlUE5EdEpWb1JrVHBtL0Y4VEUyNlQ1RkpNTlBrS0VrZXE5Y2EzS3Zpb2dpTFgyWDdIUjZmRmNGOQpiL0p5ZWFhWUErY3dBSThEZ214ZjNLUDRod0NRS0pFYjhLQWxCNXJEQlh3K1NyK1RyWHg1Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==' # enter your base64 encoded private key here

private_key = base64.b64decode(private_key_base64)

token = {
    'sub': playback_id,
    'exp': int(time.time()) + 3600, # 1 hour
    'aud': 'v'
}
headers = {
    'kid': signing_key_id
}

json_web_token = jwt.encode(
    token, private_key, algorithm="RS256", headers=headers)

# You need to decode the token, otherwise you'll get a `b'` at the start of the string.
print(json_web_token)
