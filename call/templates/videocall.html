{% load static %}
<!DOCTYPE html>
<html lang="en">
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
<meta name="description" content="Smarthr - Bootstrap Admin Template">
<meta name="keywords" content="admin, estimates, bootstrap, business, corporate, creative, management, minimal, modern, accounts, invoice, html5, responsive, CRM, Projects">
<meta name="author" content="Dreamguys - Bootstrap Admin Template">
<meta name="robots" content="noindex, nofollow">
<title>ClassFly</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'videocallstatic/index.css' %}">
<script src="https://cdn.agora.io/sdk/release/AgoraRTCSDK-3.5.2.js"></script>


<link rel="shortcut icon" type="image/x-icon" href="#">
<link rel="stylesheet" href="{% static 'videocall/smarthr-laravel/html-template/light/assets/css/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'videocall/smarthr-laravel/html-template/light/assets/css/font-awesome.min.css' %}">
<link rel="stylesheet" href="{% static 'videocall/smarthr-laravel/html-template/light/assets/css/line-awesome.min.css' %}">
<link rel="stylesheet" href="{% static 'videocall/smarthr-laravel/html-template/light/assets/css/style.css' %}">


    </head>
<style>
	@media screen and (min-width: 300px) and (max-width: 775px){
    .overlay{
    display: block;
	position:absolute ;
	size: 50px;
    /* display: flex; */
    /* justify-content: center; */
    flex-direction: column;
    /* background-size: cover; */
    z-index: 999;
    /* font-weight: bold; */
    /* text-align: center; */
    border-radius: 10px;  
    padding-top: 20px; 
    width: 220px; 
    margin-left: 30px;
    /* margin: 20px 20px 20px 20px; */
    height: 150px; 
    margin-top: 40px;
    
    overflow:visible;  
    /* padding-top: 30px; */
    /* padding: left 10px; ; */
	/* padding-left: 10px; */
    background-color: rgba(252,255,249,1); 
    }
	.desktop_overlay{
    display: none;
    } 
    /* JS CSS Html Java SQL Hibernate {display: inline;} */
    .overlay p{
    float:left;
    width: 50%;
    }
  }
  @media screen and (min-width: 775px) and (max-width: 3000px){
    .overlay{
      display: none;
    }
	.desktop_overlay{
        display: block;
	position: absolute;
	size: 50px;
    display: flex;
    /* justify-content: center; */
    flex-direction: column;
    background-size: cover;
    z-index: 999;
    font-weight: bold;
    /* text-align: center; */
    border-radius: 10px;  
    padding-top: 20px; 
    width: 190px; 
    height: 190px; 
    overflow: hidden;  
    padding-top: 10px;
	padding-left: 40px;
    background-color: rgba(252,255,249,1); 
    border-radius: 10px;   
    width: 300px; 
    height: 1000px; 
    overflow: hidden;  
    /* padding-top: 100px; */
	padding-left: 40px;
    
  }
}
</style>
<body>
<div class="main-wrapper">
<div class="header">
<div class="header-left">
<a href="#" class="logo">
<img src="{% static 'videocall/smarthr-laravel/html-template/light/assets/img/logo.png' %}" width="40" height="40" alt="">
</a>
</div>
<a id="toggle_btn" href="#">
<span class="bar-icon">
<span></span>
<span></span>
<span></span>
</span>
</a>
<div class="page-title-box">
<h3>ClassFly</h3>
</div> 
<a id="mobile_btn" class="mobile_btn" href="#sidebar"><i class="fa fa-bars"></i></a>
<ul class="nav user-menu"> 
<li class="nav-item">
<div class="top-nav-search">
<a href="#" class="responsive-search">
<i class="fa fa-search"></i>
</a>
<!-- <form action="smarthr-laravel/html-template/light/search.html">
<input class="form-control" type="text" placeholder="Search here">
<button class="btn" type="submit"><i class="fa fa-search"></i></button>
</form> -->
</div>
</li>

<!-- <li class="nav-item dropdown has-arrow flag-nav">
<a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button">
<img src="smarthr-laravel/html-template/light/assets/img/flags/us.png" alt="" height="20"> <span>English</span>
</a>
<div class="dropdown-menu dropdown-menu-right">
<a href="javascript:void(0);" class="dropdown-item">
<img src="smarthr-laravel/html-template/light/assets/img/flags/us.png" alt="" height="16"> English
</a>
<a href="javascript:void(0);" class="dropdown-item">
<img src="smarthr-laravel/html-template/light/assets/img/flags/fr.png" alt="" height="16"> French
</a>
<a href="javascript:void(0);" class="dropdown-item">
<img src="smarthr-laravel/html-template/light/assets/img/flags/es.png" alt="" height="16"> Spanish
</a>
<a href="javascript:void(0);" class="dropdown-item">
<img src="smarthr-laravel/html-template/light/assets/img/flags/de.png" alt="" height="16"> German
</a>
</div>
</li> -->

<!-- <li class="nav-item dropdown">
<a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
<i class="fa fa-bell-o"></i> <span class="badge badge-pill">3</span>
</a>
 <div class="dropdown-menu notifications">
<div class="topnav-dropdown-header">
<span class="notification-title">Notifications</span>
<a href="javascript:void(0)" class="clear-noti"> Clear All </a>
</div>
<div class="noti-content">
<ul class="notification-list">
<li class="notification-message">
<a href="smarthr-laravel/html-template/light/activities.html">
<div class="media">
<span class="avatar">
<img alt="" src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-02.jpg">
</span>
<div class="media-body">
<p class="noti-details"><span class="noti-title">John Doe</span> added new task <span class="noti-title">Patient appointment booking</span></p>
<p class="noti-time"><span class="notification-time">4 mins ago</span></p>
</div>
</div>
</a>
</li>
<li class="notification-message">
<a href="smarthr-laravel/html-template/light/activities.html">
<div class="media">
<span class="avatar">
<img alt="" src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-03.jpg">
</span>
<div class="media-body">
<p class="noti-details"><span class="noti-title">Tarah Shropshire</span> changed the task name <span class="noti-title">Appointment booking with payment gateway</span></p>
<p class="noti-time"><span class="notification-time">6 mins ago</span></p>
</div>
</div>
</a>
</li>
<li class="notification-message">
<a href="smarthr-laravel/html-template/light/activities.html">
<div class="media">
<span class="avatar">
<img alt="" src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-06.jpg">
</span>
<div class="media-body">
<p class="noti-details"><span class="noti-title">Misty Tison</span> added <span class="noti-title">Domenic Houston</span> and <span class="noti-title">Claire Mapes</span> to project <span class="noti-title">Doctor available module</span></p>
<p class="noti-time"><span class="notification-time">8 mins ago</span></p>
</div>
</div>
</a>
</li>
<li class="notification-message">
<a href="smarthr-laravel/html-template/light/activities.html">
<div class="media">
<span class="avatar">
<img alt="" src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-17.jpg">
</span>
<div class="media-body">
<p class="noti-details"><span class="noti-title">Rolland Webber</span> completed task <span class="noti-title">Patient and Doctor video conferencing</span></p>
<p class="noti-time"><span class="notification-time">12 mins ago</span></p>
</div>
</div>
</a>
</li>
<li class="notification-message">
<a href="smarthr-laravel/html-template/light/activities.html">
<div class="media">
<span class="avatar">
<img alt="" src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-13.jpg">
</span>
<div class="media-body">
<p class="noti-details"><span class="noti-title">Bernardo Galaviz</span> added new task <span class="noti-title">Private chat module</span></p>
<p class="noti-time"><span class="notification-time">2 days ago</span></p>
</div>
</div>
</a>
</li>
</ul>
</div>
<div class="topnav-dropdown-footer">
<a href="smarthr-laravel/html-template/light/activities.html">View all Notifications</a>
</div>
</div> 

</li> -->

<!-- <li class="nav-item dropdown">
<a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
<i class="fa fa-comment-o"></i> <span class="badge badge-pill">8</span>
</a>
<div class="dropdown-menu notifications">
<div class="topnav-dropdown-header">
<span class="notification-title">Messages</span>
<a href="javascript:void(0)" class="clear-noti"> Clear All </a>
</div>
<div class="noti-content">
<ul class="notification-list">
<li class="notification-message">
<a href="smarthr-laravel/html-template/light/chat.html">
<div class="list-item">
<div class="list-left">
<span class="avatar">
<img alt="" src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-09.jpg">
</span>
</div>
<div class="list-body">
<span class="message-author">Richard Miles </span>
<span class="message-time">12:28 AM</span>
<div class="clearfix"></div>
<span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
</div>
</div>
</a>
</li>
<li class="notification-message">
<a href="smarthr-laravel/html-template/light/chat.html">
<div class="list-item">
<div class="list-left">
<span class="avatar">
<img alt="" src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-02.jpg">
</span>
</div>
<div class="list-body">
<span class="message-author">John Doe</span>
<span class="message-time">6 Mar</span>
<div class="clearfix"></div>
<span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
</div>
</div>
</a>
</li>
<li class="notification-message">
<a href="smarthr-laravel/html-template/light/chat.html">
<div class="list-item">
<div class="list-left">
<span class="avatar">
<img alt="" src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-03.jpg">
</span>
</div>
<div class="list-body">
<span class="message-author"> Tarah Shropshire </span>
<span class="message-time">5 Mar</span>
<div class="clearfix"></div>
<span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
</div>
</div>
</a>
</li>
<li class="notification-message">
<a href="smarthr-laravel/html-template/light/chat.html">
<div class="list-item">
<div class="list-left">
<span class="avatar">
<img alt="" src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-05.jpg">
</span>
</div>
<div class="list-body">
<span class="message-author">Mike Litorus</span>
<span class="message-time">3 Mar</span>
<div class="clearfix"></div>
<span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
</div>
</div>
</a>
</li>
<li class="notification-message">
<a href="smarthr-laravel/html-template/light/chat.html">
<div class="list-item">
<div class="list-left">
<span class="avatar">
<img alt="" src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-08.jpg">
</span>
</div>
<div class="list-body">
<span class="message-author"> Catherine Manseau </span>
<span class="message-time">27 Feb</span>
<div class="clearfix"></div>
<span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
</div>
</div>
</a>
</li>
</ul>
</div>
<div class="topnav-dropdown-footer">
<a href="smarthr-laravel/html-template/light/chat.html">View all Messages</a>
</div>
</div>
</li> -->

<!-- <li class="nav-item dropdown has-arrow main-drop">
<a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
<span class="user-img"><img src="smarthr-laravel/html-template/light/assets/img/profiles/avatar-21.jpg" alt="">
<span class="status online"></span></span>
<span>Admin</span>
</a>
<div class="dropdown-menu">
<a class="dropdown-item" href="smarthr-laravel/html-template/light/profile.html">My Profile</a>
<a class="dropdown-item" href="smarthr-laravel/html-template/light/settings.html">Settings</a>
<a class="dropdown-item" href="smarthr-laravel/html-template/light/login.html">Logout</a>
</div> 
</li> -->
</ul>
<!-- <div class="dropdown mobile-user-menu">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-ellipsis-v"></i></a>

<div class="dropdown-menu dropdown-menu-right">
<a class="dropdown-item" href="smarthr-laravel/html-template/light/profile.html">My Profile</a>
<a class="dropdown-item" href="smarthr-laravel/html-template/light/settings.html">Settings</a>
<a class="dropdown-item" href="smarthr-laravel/html-template/light/login.html">Logout</a>
</div>
</div> -->
</div>

<!-- <div class="sidebar" id="sidebar">
<div class="sidebar-inner slimscroll">
<div class="sidebar-menu">
<ul>

</ul>
</div>
</div>
</div> -->

<div class="page-wrapper">
<div class="chat-main-row">
<div class="chat-main-wrapper">
<div class="col-lg-9 message-view task-view">
<div class="chat-window">
<div class="fixed-header">
<div class="navbar">
<div class="user-details">
<div class="float-left user-img">
 <a class="avatar" href="#" title="Mike Litorus">
<img src="{% static 'videocall/smarthr-laravel/html-template/light/assets/img/profiles/avatar-05.jpg' %}" alt="" class="rounded-circle">
<span class="status online"></span>
</a>
</div>

<div class="user-info float-left">
<a href="{% static 'videocall/smarthr-laravel/html-template/light/profile.html' %}"><span>Mike Litorus</span></a>
<span class="last-seen">Online</span>
</div>
</div>

<ul class="nav float-right custom-menu">
<li class="nav-item">
<a href="#task_window" id="task_chat" class="task-chat profile-rightbar float-right"><i class="fa fa-comments"></i></a>
</li>

</ul>
</div>
</div>


<!-- old videoc call -->

<!-- <div class="button-group">
  <p id='demo'></p>
  
  <button id="join" type="submit" class="btn btn-primary btn-sm">Join</button>
  <button id="leave" type="button" class="btn btn-primary btn-sm" disabled>Leave</button>
</div>  -->

<!-- <div class="container">
<div class="row video-group">
        <div class="col">
          <p id="local-player-name" class="player-name"></p>
          <div id="local-player" class="player"></div>
        </div>
        <div class="w-100"></div>
        <div class="col">
          <div id="remote-playerlist"></div>
        </div>
</div>
</div> -->

<!-- old of video call code -->

<div class="chat-contents">
<div class="chat-content-wrap">
<div  class="user-video" id="chatdiv">
   
    <div id="remote-playerlist" style="width:100%;height:100%" ></div> 
<!-- <img src="{% static 'videocall/smarthr-laravel/html-template/light/assets/img/video-call.jpg' %}" alt=""> -->
<div  class="overlay" > 
	  <p id="JS">JS    </p>
      <p id="CSS">CSS    </p>  
      <p id="Html"> Html   </p> 
      <p id="Java">Java  </p>  
      <p id="SQL">SQL  </p> 
      <p id="Hibernate">Hibernate  </p>     
</div>   
</div>
<div class="my-video">
<ul>
<li>
  <div id="local-player" style="width:100%;height:90px" ></div>
<!-- <img src="{% static 'videocall/smarthr-laravel/html-template/light/assets/img/profiles/avatar-01.jpg' %}" class="img-fluid" alt=""> -->
</li>
</ul>
</div>
</div>
</div>

<div class="chat-footer">
<div class="call-icons">
<span class="call-duration" id='demo'>00:00</span>
<form>
<ul class="call-items">
<li class="call-item">
<a href="" title="Enable Video" data-placement="top" data-toggle="tooltip">
<i class="fa fa-video-camera camera"></i>
</a>
</li>
<li class="call-item">
<a href="" title="Mute Audio" data-placement="top" data-toggle="tooltip">
<i class="fa fa-microphone microphone"></i>
</a> 
</li>
<li class="call-item" id="join-form" >
<a href="" title="Connect"  type="submit" data-placement="top" data-toggle="tooltip">
<i class="fa fa-phone phone"></i>
</a>
</li>

<!-- 
<li class="call-item">
<a href="" title="Add User" data-placement="top" data-toggle="tooltip">
<i class="fa fa-user-plus"></i>
</a>
</li> -->

<!-- <li class="call-item">
<a href="" title="Full Screen" data-placement="top" data-toggle="tooltip">
<i class="fa fa-arrows-v full-screen"></i>
</a>
</li> -->

</ul>
</form>
<div class="end-call">
<a href="#" id="leave">  
<i class="material-icons">call_end</i>
</a>
</div>

</div>
</div>
</div>
</div>
<div class="col-lg-3 message-view chat-profile-view chat-sidebar" id="task_window">
<div class="chat-window video-window">
<div class="fixed-header">
<ul class="nav nav-tabs nav-tabs-bottom">
<li class="nav-item"><a class="nav-link active" href="#calls_tab" data-toggle="tab">Topics</a></li>

<li class="nav-item"><a class="nav-link" href="#chats_tab" data-toggle="tab">Chats</a></li>
<li class="nav-item"><a class="nav-link" href="#profile_tab" data-toggle="tab">Profile</a></li>
</ul>
</div>
<div class="tab-content chat-contents">
<div class="content-full tab-pane show active" id="calls_tab">
<div class="chat-wrap-inner">
<div class="desktop_overlay">
  {% for i in meet.skills_split %}
    <p id="skill{{ forloop.counter0 }}">{{i}}</p>
    {% endfor %}
         
</div>
</div>
</div>
<div class="content-full tab-pane" id="chats_tab">
<div class="chat-window" id="chatdiv">
<div class="chat-contents">
<div class="chat-content-wrap">
<div class="chat-wrap-inner">
<div class="chat-box">
<div class="chats" id="chatbox"> 

{% for i in chats %}

<div class="chat chat-left">
<div class="chat-avatar">
<a href="#" class="avatar">
  {% if i.sender == meet.prof.user %}
<img alt="" src="#" id="profpic">
{% elif i.sender == meet.fresher.user %}
<img alt="" src="#" id="fresherpic">
{% endif %}
</a>
</div>

<div class="chat-body">
<div class="chat-bubble">
<div class="chat-content">
<span class="task-chat-user">{{i.sender.first_name}}</span> <span class="chat-time">{{i.created_on}}</span>
<p>{{i.message}}</p>
</div>
</div>
</div>
</div>

{% endfor %}



</div>
</div>
</div>
</div>
</div>
<div class="chat-footer">
<div class="message-bar">
<div class="message-inner">
<a class="link attach-icon" href="#" data-toggle="modal" data-target="#drag_files"><img src="smarthr-laravel/html-template/light/assets/img/attachment.png" alt=""></a>
<div class="message-area">
<div class="input-group">
 <textarea class="form-control" id="chat-message-input" placeholder="Type message..."></textarea>
<span class="input-group-append">
<button class="btn btn-primary" id="send-message" type="button"><i class="fa fa-send"></i></button>
</span>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="content-full tab-pane" id="profile_tab">
<div class="display-table">
<div class="table-row">
<div class="table-body">
<div class="table-content">
<div class="chat-profile-img">
<div class="edit-profile-img">
<img src="{% static 'videocall/smarthr-laravel/html-template/light/assets/img/profiles/avatar-09.jpg' %}" alt="">
<span class="change-img">Change Image</span>
</div>
<h3 class="user-name m-t-10 mb-0">John Doe</h3>
<small class="text-muted">Web Designer</small>

</div>
<div class="chat-profile-info">
<ul class="user-det-list">
<li>
<span>Username:</span>
<span class="float-right text-muted">johndoe</span>
</li>
<li>
<span>DOB:</span>
<span class="float-right text-muted">24 July</span>
</li>
<li>
<span>Email:</span>
<span class="float-right text-muted"><a href="/" class="__cf_email__" data-cfemail="a3c9cccbcdc7ccc6e3c6dbc2ced3cfc68dc0ccce">[email&#160;protected]</a></span>
</li>
<li>
<span>Phone:</span>
<span class="float-right text-muted">9876543210</span>
</li>
</ul>
</div>

<!-- <div>
<ul class="nav nav-tabs nav-tabs-solid nav-justified mb-0">
<li class="nav-item"><a class="nav-link active" href="#all_files" data-toggle="tab">All Files</a></li>
<li class="nav-item"><a class="nav-link" href="#my_files" data-toggle="tab">My Files</a></li>
</ul>
<div class="tab-content">
<div class="tab-pane show active" id="all_files">
<ul class="files-list">
<li>
<div class="files-cont">
<div class="file-type">
<span class="files-icon"><i class="fa fa-file-pdf-o"></i></span>
</div>
<div class="files-info">
<span class="file-name text-ellipsis">AHA Selfcare Mobile Application Test-Cases.xls</span>
<span class="file-author"><a href="#">Loren Gatlin</a></span> <span class="file-date">May 31st at 6:53 PM</span>
</div>
<ul class="files-action">
<li class="dropdown dropdown-action">
<a href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_horiz</i></a>
<div class="dropdown-menu">
<a class="dropdown-item" href="javascript:void(0)">Download</a>
<a class="dropdown-item" href="#" data-toggle="modal" data-target="#share_files">Share</a>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="tab-pane" id="my_files">
<ul class="files-list">
<li>
<div class="files-cont">
<div class="file-type">
<span class="files-icon"><i class="fa fa-file-pdf-o"></i></span>
</div>
<div class="files-info">
<span class="file-name text-ellipsis">AHA Selfcare Mobile Application Test-Cases.xls</span>
<span class="file-author"><a href="#">John Doe</a></span> <span class="file-date">May 31st at 6:53 PM</span>
</div>
<ul class="files-action">
<li class="dropdown dropdown-action">
<a href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_horiz</i></a>
<div class="dropdown-menu">
<a class="dropdown-item" href="javascript:void(0)">Download</a>
<a class="dropdown-item" href="#" data-toggle="modal" data-target="#share_files">Share</a>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div> -->

</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- <div id="drag_files" class="modal custom-modal fade" role="dialog">
<div class="modal-dialog modal-dialog-centered modal-md" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">Drag and drop files upload</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<form id="js-upload-form">
<div class="upload-drop-zone" id="drop-zone">
<i class="fa fa-cloud-upload fa-2x"></i> <span class="upload-text">Just drag and drop files here</span>
</div>
<h4>Uploading</h4>
<ul class="upload-list">
<li class="file-list">
<div class="upload-wrap">
<div class="file-name">
<i class="fa fa-photo"></i>
photo.png
</div>
<div class="file-size">1.07 gb</div>
<button type="button" class="file-close">
<i class="fa fa-close"></i>
</button>
</div>
<div class="progress progress-xs progress-striped">
<div class="progress-bar bg-success" role="progressbar" style="width: 65%"></div>
</div>
<div class="upload-process">37% done</div>
</li>
<li class="file-list">
<div class="upload-wrap">
<div class="file-name">
<i class="fa fa-file"></i>
task.doc
</div>
<div class="file-size">5.8 kb</div>
<button type="button" class="file-close">
<i class="fa fa-close"></i>
</button>
</div>
<div class="progress progress-xs progress-striped">
<div class="progress-bar bg-success" role="progressbar" style="width: 65%"></div>
 </div>
<div class="upload-process">37% done</div>
</li>
<li class="file-list">
<div class="upload-wrap">
<div class="file-name">
<i class="fa fa-photo"></i>
dashboard.png
</div>
<div class="file-size">2.1 mb</div>
<button type="button" class="file-close">
<i class="fa fa-close"></i>
</button>
</div>
<div class="progress progress-xs progress-striped">
<div class="progress-bar bg-success" role="progressbar" style="width: 65%"></div>
</div>
<div class="upload-process">Completed</div>
</li>
</ul>
</form>
<div class="submit-section">
<button class="btn btn-primary submit-btn">Submit</button>
</div>
</div>
</div>
</div>
</div>

<div id="add_group" class="modal custom-modal fade" role="dialog">
<div class="modal-dialog modal-dialog-centered modal-md" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">Create a group</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<p>Groups are where your team communicates. They’re best when organized around a topic — #leads, for example.</p>
<form>
<div class="form-group">
<label>Group Name <span class="text-danger">*</span></label>
<input class="form-control" type="text">
</div>
<div class="form-group">
<label>Send invites to: <span class="text-muted-light">(optional)</span></label>
<input class="form-control" type="text">
</div>
<div class="submit-section">
<button class="btn btn-primary submit-btn">Submit</button>
</div>
</form>
</div>
</div>
</div>
</div>

<div id="add_chat_user" class="modal custom-modal fade" role="dialog">
<div class="modal-dialog modal-dialog-centered modal-md" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">Direct Chat</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<div class="input-group m-b-30">
<input placeholder="Search to start a chat" class="form-control search-input" type="text">
<span class="input-group-append">
<button class="btn btn-primary">Search</button>
</span>
</div>
<div>
<h5>Recent Conversations</h5>
<ul class="chat-user-list">
<li>
<a href="#">
<div class="media">
<span class="avatar align-self-center"><img alt="" src="{% static 'videocall/smarthr-laravel/html-template/light/assets/img/profiles/avatar-16.jpg' %}"></span>
<div class="media-body align-self-center text-nowrap">
<div class="user-name">Jeffery Lalor</div>
<span class="designation">Team Leader</span>
</div>
 <div class="text-nowrap align-self-center">
<div class="online-date">1 day ago</div>
</div>
</div>
</a>
</li>
<li>
<a href="#">
<div class="media ">
<span class="avatar align-self-center"><img alt="" src="{% static 'videocall/smarthr-laravel/html-template/light/assets/img/profiles/avatar-13.jpg' %}"></span>
<div class="media-body align-self-center text-nowrap">
<div class="user-name">Bernardo Galaviz</div>
<span class="designation">Web Developer</span>
</div>
<div class="align-self-center text-nowrap">
<div class="online-date">3 days ago</div>
</div>
</div>
</a>
</li>
<li>
<a href="#">
<div class="media">
<span class="avatar align-self-center">
<img alt="" src="{% static 'videocall/smarthr-laravel/html-template/light/assets/img/profiles/avatar-02.jpg' %}">
</span>
<div class="media-body text-nowrap align-self-center">
<div class="user-name">John Doe</div>
<span class="designation">Web Designer</span>
</div>
<div class="align-self-center text-nowrap">
<div class="online-date">7 months ago</div>
</div>
</div>
</a>
</li>
</ul>
</div>
<div class="submit-section">
<button class="btn btn-primary submit-btn">Submit</button>
</div>
</div>
</div>
</div>
</div> -->

<!-- <div id="share_files" class="modal custom-modal fade" role="dialog">
<div class="modal-dialog modal-dialog-centered modal-md" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">Share File</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<div class="files-share-list">
<div class="files-cont">
<div class="file-type">
<span class="files-icon"><i class="fa fa-file-pdf-o"></i></span>
</div>
<div class="files-info">
<span class="file-name text-ellipsis">AHA Selfcare Mobile Application Test-Cases.xls</span>
<span class="file-author"><a href="#">Bernardo Galaviz</a></span> <span class="file-date">May 31st at 6:53 PM</span>
</div>
</div>
</div>
<div class="form-group">
<label>Share With</label>
<input class="form-control" type="text">
</div>
<div class="submit-section">
<button class="btn btn-primary submit-btn">Share</button>
</div>

</div>
</div>
</div>
</div> -->

</div>

</div>
<!-- old video call code -->
<script>

     var skills = '{{meet.skills}}'.split(",");
     console.log(skills);

 
        var option = {
          appid: '{{appid}}',
          channel: '{{channel}}',
          uid: '{{meeting_uid}}',
          token: '{{token}}'
        };
        
        
        
        //variable for professional
        var user = '{{user}}' ;
        var oppo_user_name = '{{oppo_user_name}}';
        var oppo_user_id = '{{oppo_user_id}}';
        var user_name ='{{user_name}}'
        
        var uid = '{{uid}}'
        
        
        var meet = '{{meet.id}}'  ;// id for meeting id
        
        
        // variables for meeting status
        
        
        var aid = '{{aid}}'
        var mid = '{{mid}}'
        var pfmid = '{{pfmid}}'
        
        //variables to connect to meeting automatically,( When disconnected by some reason)
        
        var auto_connect = '{{auto_connect}}';
        
        
         
        
        
        </script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script><!-- <script src="../assets/bootstrap.bundle.min.js"></script> -->
        <script src="https://download.agora.io/sdk/release/AgoraRTC_N.js"></script>
        
        <!-- <script src="https://download.agora.io/sdk/release/AgoraRTC_N-4.5.0.js"></script> -->
        
        <script>
          console.log('{{pro}}','Fresher');
          </script>
        {% if pro  %}
        
        <script src="{% static 'videocallstatic/profcall.js' %}"></script>
        {% else %}
        
        <script src="{% static 'videocallstatic/freshercall.js' %}"></script>
        {% endif %}
        
<!-- end of old video call -->

<script src="{% static 'videocall/smarthr-laravel/html-template/light/assets/js/jquery-3.5.1.min.js' %}"></script>
<script src="{% static 'videocall/smarthr-laravel/html-template/light/assets/js/popper.min.js' %}"></script>
<script src="{% static 'videocall/smarthr-laravel/html-template/light/assets/js/jquery.slimscroll.min.js' %}"></script>
<script src="{% static 'videocall/smarthr-laravel/html-template/light/assets/js/bootstrap.min.js' %}"></script>
<script src="{% static 'videocall/smarthr-laravel/html-template/light/assets/js/app.js' %}"></script>
<script src="{% static 'videocall/jsscript.js' %}"></script>
<script src="{% static 'videocall/desktop_overlay.js' %}"></script>

<script>





    
    const roomName =  '{{room_name}}';
    
    const user_id  =  '{{user_id}}';

    let prof_image_src = '';
    let fresher_image_src = '';
    

    var status_count = 0;   //user previous minute online staus count
    var next_count   = 0;   // user current online status count 
    var repeated  =  0;     //variblae to store user online status based on stat_count and next_count








 // load the profile picture of the oponent
 $(document).ready(async function(){

// console.log('img url   {{meet.prof.profile_pic}} {{meet.fresher.profile_pic}}')
 
 {% if meet.prof.profile_pic != '' %}
       
  // Note the await keyword

  
    await fetch("{{meet.prof.profile_pic}}")
    .then((response) => response.text())
    .then((result) => {
        prof_image_src = result;
    })
    .catch((error) => console.log("error", error));

    
    {% endif %}

    {% if meet.fresher.profile_pic != '' %}

    await fetch("{{meet.fresher.profile_pic}}")
    .then((response) => response.text())
    .then((result) => {
        fresher_image_src = result;
    })
    .catch((error) => console.log("error", error));
    // 
    

    {% endif %}


    $("img[id*='profpic']").attr({src:prof_image_src});
    
    $("img[id*='fresherpic']").attr({src:fresher_image_src});
    
    

// <!-- 
// $('#online').hide();
// $('#offline').hide();

// document.getElementById('last_seen').innerHTML = 'Checking Availability....'; -->

    }); //end of jquery code




// <!-- initial code for scroling down the chsat -->
// code for auto scroll when a new message is added.
var element = document.getElementById("chatdiv");
element.scrollTop = element.scrollHeight - element.clientHeight;
        

    // console.log(user_id);
         // function to add chat recived
         function received(data)
        {
            // console.log(data, user_id);
        var chat_content = '<div class="chat chat-left">'
        +'<div class="chat-avatar">'
        +'<a href="#" class="avatar">'
        if('{{meet.prof.user.id}}' == data.user )
        {
        chat_content += '<img alt="" src="' + prof_image_src + '" id="profpic">';
        }
        else if('{{meet.fresher.user.id}}' == data.user){
            chat_content += '<img alt="" src="' + fresher_image_src + '" id="profpic">';
        } 
        chat_content += '</a></div><div class="chat-body"><div class="chat-bubble"><div class="chat-content"><span class="task-chat-user">';

        // <!-- check which user has sent the message -->
        if (data.user == oppo_user_id)
        {
            console.log('oppo user',oppo_user_id,oppo_user_name)
            chat_content +=  oppo_user_name ;
        }
        else if(data.user == user_id)
        {
            console.log('xxxxxxxxxxxx',user_id,user_name)
            chat_content += user_name;
        }
        chat_content += '</span> <span class="chat-time">' + data.time + '</span><p>' + data.message + '</p></div></div></div></div>'
        document.getElementById("chatbox").innerHTML += chat_content;


        // code for auto scroll when a new message is added.
        var element = document.getElementById("chatdiv");
        element.scrollTop = element.scrollHeight - element.clientHeight;;
        
        }


        var wss_protocol = (window.location.protocol == 'https:') ? 'wss://': 'ws://';
        
        const chatSocket = new WebSocket(
            wss_protocol 
            + window.location.host
            + '/ws/chat/'
            + roomName
            + '/'
        );

// <!-- Code to recive message from others -->
        chatSocket.onmessage = function(e) {
            const data = JSON.parse(e.data);
            //if the type is chatting message
            if (data.type == 'chat_message')
                {
                received(data);
                }
            // status  regarding opponent 
            else{
                console.log(data);
                status_count = next_count;
                next_count   = data.status;
                }
        };

       
        chatSocket.onclose = function(e) {
            alert('Chatting Disconnected');
            console.error('Chat socket closed unexpectedly');
        };

        document.querySelector('#chat-message-input').focus();
        document.querySelector('#chat-message-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#send-message').click();
            }
        };

        document.querySelector('#send-message').onclick = function(e) {
            const messageInputDom = document.querySelector('#chat-message-input');
            const message = messageInputDom.value;
            chatSocket.send(JSON.stringify({
                'type': 'meet_message',
                'message': message,
                'user':'{{user_id}}',   //professional or fresher
                'room':roomName
            }));
            messageInputDom.value = '';


        };


        /*
        received({ 'type': 'meet_message',
                'message': 'Very good evening',
                'user':'79',  
                'room':'5_24',
            'time':'Sept. 20, 2021, 5:46 a.m.'})
        */
    
</script>

</html>